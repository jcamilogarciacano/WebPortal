(window.webpackJsonp=window.webpackJsonp||[]).push([[16],{DLLq:function(o,t,n){"use strict";n.r(t),n.d(t,"RecuperarPasswordPageModule",(function(){return M}));var e=n("ofXK"),i=n("3Pt+"),r=n("TEn/"),a=n("tyNb"),c=n("mrSG"),s=n("sLI6"),d=n("fXoL"),l=n("HzuS"),b=n("EnSQ");const u=["numDocumento"],m=["tipoDocumento"],p=["password"],g=["rePassword"];function h(o,t){if(1&o){const o=d.Rb();d.Qb(0,"div",19),d.Qb(1,"ion-label",20),d.yc(2,"Confirmemos tu identidad"),d.Pb(),d.Mb(3,"br"),d.Qb(4,"ion-label",21),d.yc(5,"Digita el n\xfamero de documento con el que inicias sesi\xf3n en tu aplicaci\xf3n. "),d.Pb(),d.Qb(6,"ion-item",22),d.Yb("click",(function(t){return d.qc(o),d.bc().showPickerTipoDocumento(t)})),d.Qb(7,"ion-label",23),d.yc(8,"Tipo de documento"),d.Pb(),d.Qb(9,"ion-item",24),d.Mb(10,"ion-input",25,26),d.Mb(12,"ion-icon",27),d.Pb(),d.Pb(),d.Qb(13,"ion-item",28),d.Qb(14,"ion-label",29),d.yc(15,"N\xfamero de documento "),d.Pb(),d.Mb(16,"div",30),d.Qb(17,"div",31),d.Qb(18,"input",32,33),d.Yb("input",(function(t){d.qc(o);const n=d.oc(19);return d.bc().dataUtilsSrv.obtenerValidarTextoIngreso(t,n,"numeros")})),d.Pb(),d.Pb(),d.Pb(),d.Mb(20,"br"),d.Qb(21,"ion-label",20),d.yc(22,"C\xf3digo de seguridad"),d.Pb(),d.Mb(23,"br"),d.Qb(24,"ion-label",21),d.yc(25,"Para mayor seguridad, vamos a enviarte un c\xf3digo de seguridad que tendr\xe1s que digitar."),d.Pb(),d.Qb(26,"ion-radio-group"),d.Qb(27,"ion-item"),d.Qb(28,"ion-label",21),d.yc(29,"Enviar c\xf3digo de seguridad al "),d.Qb(30,"ion-label",34),d.yc(31," correo electr\xf3nico"),d.Pb(),d.Pb(),d.Qb(32,"ion-radio",35),d.Yb("ionFocus",(function(){return d.qc(o),d.bc().seleccionMetodoRestablecimientoPasswd("correo")})),d.Pb(),d.Pb(),d.Qb(33,"ion-item"),d.Qb(34,"ion-label",21),d.yc(35,"Enviar c\xf3digo de seguridad al "),d.Qb(36,"ion-label",36),d.yc(37," numero celular"),d.Pb(),d.Pb(),d.Qb(38,"ion-radio",37),d.Yb("ionFocus",(function(){return d.qc(o),d.bc().seleccionMetodoRestablecimientoPasswd("celular")})),d.Pb(),d.Pb(),d.Pb(),d.Mb(39,"br"),d.Qb(40,"ion-grid",38),d.Qb(41,"ion-row"),d.Qb(42,"ion-col",39),d.Qb(43,"ion-button",40),d.Yb("click",(function(){return d.qc(o),d.bc().generarOtpRecPassword()})),d.Qb(44,"ion-label",41),d.yc(45,"Continuar"),d.Pb(),d.Pb(),d.Pb(),d.Pb(),d.Pb(),d.Pb()}}function P(o,t){if(1&o){const o=d.Rb();d.Qb(0,"ion-icon",58),d.Yb("click",(function(){return d.qc(o),d.bc(2).mostrarOcultarPassword()})),d.Pb()}}function f(o,t){if(1&o){const o=d.Rb();d.Qb(0,"ion-icon",59),d.Yb("click",(function(){return d.qc(o),d.bc(2).mostrarOcultarPassword()})),d.Pb()}}function w(o,t){if(1&o){const o=d.Rb();d.Qb(0,"ion-icon",58),d.Yb("click",(function(){return d.qc(o),d.bc(2).mostrarOcultarRePassword()})),d.Pb()}}function v(o,t){if(1&o){const o=d.Rb();d.Qb(0,"ion-icon",59),d.Yb("click",(function(){return d.qc(o),d.bc(2).mostrarOcultarRePassword()})),d.Pb()}}const y=function(o){return{color:o}};function x(o,t){if(1&o){const o=d.Rb();d.Qb(0,"div",42),d.Mb(1,"br"),d.Qb(2,"ion-label",43),d.yc(3,"Tu contrase\xf1a nueva"),d.Pb(),d.Mb(4,"br"),d.Qb(5,"ion-label",44),d.yc(6,"Digita una nueva contrase\xf1a para acceder a tu aplicaci\xf3n. "),d.Pb(),d.Mb(7,"br"),d.Mb(8,"br"),d.Qb(9,"ion-label",43),d.yc(10,"Tu contrase\xf1a"),d.Pb(),d.Qb(11,"form",45),d.Yb("ngSubmit",(function(t){d.qc(o);const n=d.bc();return n.actualizarPassword(t,n.dataPassword)})),d.Qb(12,"ion-label",23),d.yc(13,"Contrase\xf1a"),d.Pb(),d.Qb(14,"ion-item",46),d.Qb(15,"ion-input",47,48),d.Yb("ionChange",(function(t){return d.qc(o),d.bc().validarPassword(t)})),d.Pb(),d.xc(17,P,1,0,"ion-icon",49),d.xc(18,f,1,0,"ion-icon",50),d.Pb(),d.Qb(19,"ion-label",23),d.yc(20,"Confirmar contrase\xf1a"),d.Pb(),d.Qb(21,"ion-item",46),d.Mb(22,"ion-input",51,52),d.xc(24,w,1,0,"ion-icon",49),d.xc(25,v,1,0,"ion-icon",50),d.Pb(),d.Mb(26,"br"),d.Qb(27,"div"),d.Qb(28,"ion-label",53),d.yc(29,"Tu nueva contrase\xf1a debe contener: "),d.Pb(),d.Qb(30,"div",54),d.Qb(31,"p",55),d.yc(32,"M\xednimo 8 caracteres"),d.Pb(),d.Qb(33,"p",55),d.yc(34,"Incluir un n\xfamero "),d.Pb(),d.Qb(35,"p",55),d.yc(36,"Incluir una letra may\xfascula"),d.Pb(),d.Qb(37,"p",55),d.yc(38,"Incluir una letra min\xfascula"),d.Pb(),d.Qb(39,"p",55),d.yc(40,"Incluir un car\xe1cter especial (#$%&,etc)"),d.Pb(),d.Pb(),d.Pb(),d.Mb(41,"br"),d.Qb(42,"ion-grid"),d.Qb(43,"ion-row"),d.Qb(44,"ion-col"),d.Qb(45,"ion-button",56),d.Qb(46,"ion-label",57),d.yc(47,"Continuar"),d.Pb(),d.Pb(),d.Pb(),d.Pb(),d.Pb(),d.Pb(),d.Mb(48,"br"),d.Pb()}if(2&o){const o=d.bc();d.zb(11),d.hc("formGroup",o.dataPassword),d.zb(6),d.hc("ngIf",!o.mostrarPassword),d.zb(1),d.hc("ngIf",o.mostrarPassword),d.zb(6),d.hc("ngIf",!o.mostrarRePassword),d.zb(1),d.hc("ngIf",o.mostrarRePassword),d.zb(6),d.hc("ngStyle",d.mc(11,y,o.colorMinOchoChar)),d.zb(2),d.hc("ngStyle",d.mc(13,y,o.colorNumero)),d.zb(2),d.hc("ngStyle",d.mc(15,y,o.colorMayuscula)),d.zb(2),d.hc("ngStyle",d.mc(17,y,o.colorMinuscula)),d.zb(2),d.hc("ngStyle",d.mc(19,y,o.colorCarEsp)),d.zb(6),d.hc("disabled",!o.dataPassword.valid)}}const Q=[{path:"",component:(()=>{class o{constructor(o,t,n,e){this.navCtrl=o,this.modalCtrl=t,this.dataUtilsSrv=n,this.dataSrv=e,this.mostrarPassword=!1,this.mostrarRePassword=!1,this.colorMinOchoChar="darkgray",this.colorMayuscula="darkgray",this.colorMinuscula="darkgray",this.colorNumero="darkgray",this.colorCarEsp="darkgray",this.selecionOtp="",this.dataDocumento={idTipoDocumento:"",tipoDocumento:"",numeroDocumento:""},this.dataEnviarDocumento={tipoDoc:"",numeroDoc:""},this.dataPassword=new i.i({password:new i.f("",[i.F.pattern("^(?=.*\\d)(?=.*[a-z])(?=.*[A-Z])(?=.*[!@#$%^&*.])(?=.*[a-zA-Z]).{8,}$")]),rePassword:new i.f("",[i.F.required])}),this.recuperarPassword=!1,this.confirmarIndentidad=!0}ngOnInit(){}mostrarOcultarPassword(){console.log("mostrar ocultar",this.password,this.mostrarPassword),this.mostrarPassword?(this.password.type="password",this.mostrarPassword=!1):(this.password.type="text",this.mostrarPassword=!0)}mostrarOcultarRePassword(){console.log("mostrar ocultar",this.rePassword,this.mostrarRePassword),this.mostrarRePassword?(this.rePassword.type="password",this.mostrarRePassword=!1):(this.rePassword.type="text",this.mostrarRePassword=!0)}validarPassword(o){if(console.log("evento passwd",o.detail.value),o.detail.value.length>=8?(console.log("mayusucula"),this.colorMinOchoChar="green"):this.colorMinOchoChar="darkgray",o.detail.value.match(".*[A-Z].*")?(console.log("mayusucula"),this.colorMayuscula="green"):this.colorMayuscula="darkgray",o.detail.value.match(".*[a-z].*")?(console.log("minuscula"),this.colorMinuscula="green"):this.colorMinuscula="darkgray",o.detail.value.match(".*\\d.*")?(console.log("minuscula"),this.colorNumero="green",console.log("numero")):this.colorNumero="darkgray",this.colorCarEsp=o.detail.value.match("(?=.*[!@#$%^&*.])")?"green":"darkgray",o.detail.value.match(".*[~!.......].*"))return!1}showPickerTipoDocumento(o){return Object(c.a)(this,void 0,void 0,(function*(){let t,n;if(t=yield this.dataSrv.postListaDocumentos(),"1"===t.codigorespuesta){n=t.lista_producto;let e=this.dataUtilsSrv.convertirListaGenerica(n,"descripcion","id"),i=(yield this.dataUtilsSrv.showPickerGenerico(o,e,"comprasDiairias",!0)).comprasDiairias;this.tipoDocumento.value=i.text.toString(),this.dataDocumento.tipoDocumento=i.text,this.dataDocumento.idTipoDocumento=String(i.value)}console.log("seleccion: ",o)}))}seleccionMetodoRestablecimientoPasswd(o){console.log(o),this.selecionOtp=o}generarOtpRecPassword(){""!==this.dataDocumento.idTipoDocumento?""!==this.numDocumento.nativeElement.value?""!==this.selecionOtp?this.generarOtp(this.numDocumento.nativeElement.value,this.selecionOtp):this.dataUtilsSrv.presentarToast("Debes seleccionar un metodo de recuperaci\xf3n",1500,"bottom"):this.dataUtilsSrv.presentarToast("Debes ingresar un n\xfamero de documento",1500,"bottom"):this.dataUtilsSrv.presentarToast("Debes seleccionar un tipo de documento",1500,"bottom")}generarOtp(o,t){return Object(c.a)(this,void 0,void 0,(function*(){let n=yield this.dataUtilsSrv.presentarLoading("Cargando...");switch(t){case"celular":let t=yield this.dataSrv.generarOtpCorreo({PARTIPDOC:this.dataDocumento.idTipoDocumento,PARDOC:o,COD_ENTRADA:"2"});"1"===t.codigorespuesta?this.ingresarOtp("celular",null,t.PAR_CELULAR,t.timeotp,this.dataDocumento.idTipoDocumento,o,"2"):this.dataUtilsSrv.presentarToast(t.mensajerespuesta,1500,"bottom"),n.dismiss();break;case"correo":let e=yield this.dataSrv.generarOtpCorreo({PARTIPDOC:this.dataDocumento.idTipoDocumento,PARDOC:o,COD_ENTRADA:"1"});"1"===e.codigorespuesta?this.ingresarOtp("correo",e.PAR_CORREO,null,e.timeotp,this.dataDocumento.idTipoDocumento,o,"1"):this.dataUtilsSrv.presentarToast(e.mensajerespuesta,1500,"bottom"),n.dismiss();break;default:n.dismiss()}}))}ingresarOtp(o,t,n,e,i,r,a){return Object(c.a)(this,void 0,void 0,(function*(){this.dataEnviarDocumento.numeroDoc=r,this.dataEnviarDocumento.tipoDoc=i;let c={texto:"recuperarContrasena",tipoOtp:o,correo:t,celular:n,tiempoOtp:e,tipoDocumento:i,numDocumento:r,tipoSolOtp:a};const d=yield this.modalCtrl.create({component:s.a,componentProps:{value:c},showBackdrop:!0,backdropDismiss:!0,mode:"ios",cssClass:"modal-custom-alert"});yield d.present();let l=yield d.onDidDismiss();console.log("resultadoModal ",l),"1"===l.data&&(this.recuperarPassword=!0,this.confirmarIndentidad=!1)}))}actualizarPassword(o,t){return Object(c.a)(this,void 0,void 0,(function*(){t={PARTIPDOC:Number(this.dataEnviarDocumento.tipoDoc),PARDOC:this.dataEnviarDocumento.numeroDoc,parpassword:t.value.password},console.log(o,t),"1"===(yield this.dataSrv.actualizarPasswordApp(t)).codigorespuesta&&(this.dataUtilsSrv.presentarToast("Contrase\xf1a actualizada correctamente",1500,"bottom"),setTimeout(()=>{this.navCtrl.back()},1500))}))}atras(){if(!0===this.recuperarPassword)return this.recuperarPassword=!1,void(this.confirmarIndentidad=!0);!0!==this.confirmarIndentidad||this.navCtrl.back()}}return o.\u0275fac=function(t){return new(t||o)(d.Lb(r.Eb),d.Lb(r.Db),d.Lb(l.a),d.Lb(b.a))},o.\u0275cmp=d.Fb({type:o,selectors:[["app-recuperar-password"]],viewQuery:function(o,t){var n;1&o&&(d.Cc(u,!0),d.Cc(m,!0),d.Cc(p,!0),d.Cc(g,!0)),2&o&&(d.nc(n=d.Zb())&&(t.numDocumento=n.first),d.nc(n=d.Zb())&&(t.tipoDocumento=n.first),d.nc(n=d.Zb())&&(t.password=n.first),d.nc(n=d.Zb())&&(t.rePassword=n.first))},decls:31,vars:2,consts:[[1,"ion-no-border"],[1,"headerLogo"],[2,"display","inline !important"],[1,"estilo-titulo-icono-header"],["src","../../assets/iconos_marcas/icono_minero_titulo.svg","alt","titulo",2,"height","30px","width","auto","margin-top","0px","color","bisque"],[1,"content"],["id","header",1,"ion-no-border"],["mode","md"],[2,"height","10px"],["slot","start",2,"width","20px"],["src","../../assets/images/img_atras_morada.svg","slot","start","alt","atras",2,"height","25px","width","auto",3,"click"],["color","light",1,"ion-text-center",2,"font-size","15pt","font-weight","530"],["src","../../assets/icon/icono_cambiar_password.svg","alt","titulo",2,"height","30px","width","auto","margin-top","0px","color","bisque"],[2,"width","10px"],["color","minero-morado-oscuro"],["slot","end",2,"width","10px"],[2,"width","100%","height","3px","background-color","lightgray"],["class","vista","style","display: flex;",4,"ngIf"],["style","padding-left: 10%; padding-right: 10%; background-color: white;",4,"ngIf"],[1,"vista",2,"display","flex"],["color","minero-texto",2,"font-weight","600"],["color","minero-texto"],[1,"ion-no-padding",3,"click"],["position","stacked","color","minero-morado-oscuro"],["lines","none",1,"ion-no-padding",2,"width","100%","padding","0px !important"],["readonly","","placeholder","Tipo documento","color","minero-texto"],["tipoDocumento",""],["name","chevron-down-outline","slot","end","color","minero-morado-titulo"],[1,"ion-no-padding"],["position","stacked","color","minero-texto",2,"font-weight","600","font-size","14pt"],[2,"height","12px"],[2,"width","100%","height","auto"],["inputmode","tel","type","tel","placeholder","Ingresa tu n\xfamero de documento","maxlength","25",2,"background-color","transparent","border","transparent","width","100%","height","100%","outline","none","font-size","20px",3,"input"],["numDocumento",""],["color","minero-lila",2,"font-weight","600"],["mode","md","slot","start","value","correo",3,"ionFocus"],["color","minero-morado",2,"font-weight","600"],["mode","md","slot","start","value","celular",3,"ionFocus"],[2,"background-color","white"],[1,"continuarBtn"],["id","boton","mode","ios","color","minero-morado","size","small",2,"margin-left","10%","margin-right","10%",3,"click"],[2,"font-weight","600"],[2,"padding-left","10%","padding-right","10%","background-color","white"],[2,"font-weight","900","font-size","16pt","color","var(--ion-color-minero-morado-oscuro) !important"],["color","minero-texto",2,"font-size","16pt"],[3,"formGroup","ngSubmit"],[1,"ion-no-padding",2,"border-bottom","1px solid lightgray"],["formControlName","password","placeholder","Ingresa tu contrase\xf1a","type","password","maxlength","30",1,"prueba",2,"font-size","15pt",3,"ionChange"],["password",""],["name","eye-off-outline","style","padding-right:15px !important;","color","dark",3,"click",4,"ngIf"],["name","eye-outline","style","padding-right:15px !important;","color","dark",3,"click",4,"ngIf"],["formControlName","rePassword","placeholder","Confirma tu contrase\xf1a","type","password","maxlength","30",1,"prueba",2,"font-size","15pt"],["rePassword",""],["color","minero-morado-oscuro",2,"font-weight","bolder"],[2,"padding-left","20px"],[2,"margin-block-start","0%","margin-block-end","0%",3,"ngStyle"],["ion-button","","type","submit","mode","ios","color","minero-morado-titulo","expand","block",3,"disabled"],[2,"font-family","inherit","font-weight","bold"],["name","eye-off-outline","color","dark",2,"padding-right","15px !important",3,"click"],["name","eye-outline","color","dark",2,"padding-right","15px !important",3,"click"]],template:function(o,t){1&o&&(d.Qb(0,"ion-header",0),d.Qb(1,"ion-grid",1),d.Qb(2,"ion-row"),d.Qb(3,"ion-col"),d.Qb(4,"div",2),d.Qb(5,"div",3),d.Mb(6,"img",4),d.Pb(),d.Pb(),d.Pb(),d.Pb(),d.Pb(),d.Pb(),d.Qb(7,"ion-content",5),d.Qb(8,"ion-card"),d.Qb(9,"ion-card-header",6),d.Qb(10,"ion-toolbar",7),d.Mb(11,"div",8),d.Mb(12,"div",9),d.Qb(13,"img",10),d.Yb("click",(function(){return t.atras()})),d.Pb(),d.Qb(14,"ion-title",11),d.Qb(15,"div"),d.Qb(16,"ion-grid"),d.Qb(17,"ion-row"),d.Qb(18,"ion-col"),d.Qb(19,"div",2),d.Qb(20,"div",3),d.Mb(21,"img",12),d.Mb(22,"div",13),d.Qb(23,"ion-label",14),d.yc(24,"Recuperar contrase\xf1a"),d.Pb(),d.Pb(),d.Pb(),d.Pb(),d.Pb(),d.Pb(),d.Pb(),d.Pb(),d.Mb(25,"div",15),d.Pb(),d.Mb(26,"div",16),d.Pb(),d.Qb(27,"ion-card-content"),d.Mb(28,"br"),d.xc(29,h,46,0,"div",17),d.xc(30,x,49,21,"div",18),d.Pb(),d.Pb(),d.Pb()),2&o&&(d.zb(29),d.hc("ngIf",t.confirmarIndentidad),d.zb(1),d.hc("ngIf",t.recuperarPassword))},directives:[r.z,r.y,r.eb,r.r,r.s,r.k,r.m,r.xb,r.vb,r.L,r.l,e.t,r.F,r.E,r.Ob,r.A,r.W,r.Nb,r.V,r.Lb,r.i,i.H,i.s,i.j,i.r,i.h,i.m,e.w],styles:[".vista[_ngcontent-%COMP%]{padding-left:22%;padding-right:22%;flex-direction:column}.estilo-titulo-icono-header[_ngcontent-%COMP%]{height:100%;width:100%;display:flex;flex-direction:row;flex-wrap:wrap;justify-content:center;align-content:center;align-items:center}.content[_ngcontent-%COMP%]{display:flex;flex-direction:column;--background:#f4f2f5!important}#header[_ngcontent-%COMP%]{padding:0 0 4px}#footer[_ngcontent-%COMP%], #header[_ngcontent-%COMP%]{background-color:#f4f2f5}#footer[_ngcontent-%COMP%]{align-self:flex-end}ion-input[_ngcontent-%COMP%], ion-select[_ngcontent-%COMP%]{--placeholder-opacity:1!important;font-size:15pt;--placeholder-color:#8d8ca0}ion-input[_ngcontent-%COMP%]{--padding-end:0px}ion-select[_ngcontent-%COMP%]::part(icon){color:transparent!important;background-image:url(flecha_abajo_lila.15c3e04bcdf5263de4f4.svg);background-position:100%;background-repeat:no-repeat;opacity:1}ion-item[_ngcontent-%COMP%]   ion-item[_ngcontent-%COMP%]{--inner-padding-end:0px;--padding-start:0px}.native-input[_ngcontent-%COMP%]:disabled{opacity:1!important}.datetime-placeholder[_ngcontent-%COMP%]{--placeholder-opacity:1!important;font-size:15pt;--placeholder-color:#8d8ca0}ion-card[_ngcontent-%COMP%]{width:55%!important;min-height:750px;display:flex;margin:0 auto;justify-content:flex-start;flex-direction:column;flex-wrap:nowrap}.vista[_ngcontent-%COMP%]{padding-left:11%;padding-right:11%;background-color:#fff}.headerLogo[_ngcontent-%COMP%]{padding-bottom:40px;background-color:#f4f2f5}.toolbar[_ngcontent-%COMP%]{background-color:#f4f2f5!important}.continuarBtn[_ngcontent-%COMP%]{display:flex;flex-direction:row;flex-wrap:nowrap;justify-content:center;align-items:center;align-content:center}.textoBtn[_ngcontent-%COMP%]{font-family:inherit;font-weight:100}#boton[_ngcontent-%COMP%]{--border-radius:6px;--padding-top:0;--padding-start:0.9em;--padding-end:0.9em;--padding-bottom:0;height:2.1em;font-size:14px;--background:var(--ion-color-minero-texto-morado-intenso)!important;--background-activated:var(--ion-color-morado-intenso-shade,#6a45cf)!important;--background-focused:var(--ion-color-morado-intenso-shade,#6a45cf)!important;--background-hover:var(--ion-color-morado-intenso-tint,#8660ed)!important}#boton[_ngcontent-%COMP%], #botonCompletar[_ngcontent-%COMP%]{width:200px}.contenedorSMS[_ngcontent-%COMP%]{text-align:center!important;flex:0 0 calc(calc(1 / var(--ion-grid-columns, 6)) * 100%)!important;width:calc(calc(1 / var(--ion-grid-columns, 6)) * 100%)!important;max-width:calc(calc(1 / var(--ion-grid-columns, 9)) * 100%)!important}.inputSMS[_ngcontent-%COMP%]{height:35px!important;--padding-top:0px!important;--padding-end:0;--padding-bottom:0px;--padding-start:0px!important}"]}),o})()}];let C=(()=>{class o{}return o.\u0275mod=d.Jb({type:o}),o.\u0275inj=d.Ib({factory:function(t){return new(t||o)},imports:[[a.k.forChild(Q)],a.k]}),o})(),M=(()=>{class o{}return o.\u0275mod=d.Jb({type:o}),o.\u0275inj=d.Ib({factory:function(t){return new(t||o)},imports:[[e.c,i.l,r.zb,C,i.B]]}),o})()}}]);