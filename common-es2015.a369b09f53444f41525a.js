(window.webpackJsonp=window.webpackJsonp||[]).push([[0],{"0/6H":function(t,e,i){"use strict";i.d(e,"a",(function(){return a}));var n=i("A36C"),o=i("iWo5"),r=i("qULd");const a=(t,e)=>{let i,a;const s=(t,n,o)=>{if("undefined"==typeof document)return;const r=document.elementFromPoint(t,n);r&&e(r)?r!==i&&(l(),c(r,o)):l()},c=(t,e)=>{i=t,a||(a=i);const o=i;Object(n.f)(()=>o.classList.add("ion-activated")),e()},l=(t=!1)=>{if(!i)return;const e=i;Object(n.f)(()=>e.classList.remove("ion-activated")),t&&a!==i&&i.click(),i=void 0};return Object(o.createGesture)({el:t,gestureName:"buttonActiveDrag",threshold:0,onStart:t=>s(t.currentX,t.currentY,r.a),onMove:t=>s(t.currentX,t.currentY,r.b),onEnd:()=>{l(!0),Object(r.e)(),a=void 0}})}},"74mu":function(t,e,i){"use strict";i.d(e,"a",(function(){return o})),i.d(e,"b",(function(){return r})),i.d(e,"c",(function(){return n})),i.d(e,"d",(function(){return s}));const n=(t,e)=>null!==e.closest(t),o=(t,e)=>"string"==typeof t&&t.length>0?Object.assign({"ion-color":!0,["ion-color-"+t]:!0},e):e,r=t=>{const e={};return(t=>void 0!==t?(Array.isArray(t)?t:t.split(" ")).filter(t=>null!=t).map(t=>t.trim()).filter(t=>""!==t):[])(t).forEach(t=>e[t]=!0),e},a=/^[a-z][a-z0-9+\-.]*:/,s=async(t,e,i,n)=>{if(null!=t&&"#"!==t[0]&&!a.test(t)){const o=document.querySelector("ion-router");if(o)return null!=e&&e.preventDefault(),o.push(t,i,n)}return!1}},ZaV5:function(t,e,i){"use strict";i.d(e,"a",(function(){return n})),i.d(e,"b",(function(){return o}));const n=async(t,e,i,n,o)=>{if(t)return t.attachViewToDom(e,i,o,n);if("string"!=typeof i&&!(i instanceof HTMLElement))throw new Error("framework delegate is missing");const r="string"==typeof i?e.ownerDocument&&e.ownerDocument.createElement(i):i;return n&&n.forEach(t=>r.classList.add(t)),o&&Object.assign(r,o),e.appendChild(r),r.componentOnReady&&await r.componentOnReady(),r},o=(t,e)=>{if(e){if(t)return t.removeViewFromDom(e.parentElement,e);e.remove()}return Promise.resolve()}},h3R7:function(t,e,i){"use strict";i.d(e,"a",(function(){return n}));const n={bubbles:{dur:1e3,circles:9,fn:(t,e,i)=>{const n=t*e/i-t+"ms",o=2*Math.PI*e/i;return{r:5,style:{top:9*Math.sin(o)+"px",left:9*Math.cos(o)+"px","animation-delay":n}}}},circles:{dur:1e3,circles:8,fn:(t,e,i)=>{const n=e/i,o=t*n-t+"ms",r=2*Math.PI*n;return{r:5,style:{top:9*Math.sin(r)+"px",left:9*Math.cos(r)+"px","animation-delay":o}}}},circular:{dur:1400,elmDuration:!0,circles:1,fn:()=>({r:20,cx:48,cy:48,fill:"none",viewBox:"24 24 48 48",transform:"translate(0,0)",style:{}})},crescent:{dur:750,circles:1,fn:()=>({r:26,style:{}})},dots:{dur:750,circles:3,fn:(t,e)=>({r:6,style:{left:9-9*e+"px","animation-delay":-110*e+"ms"}})},lines:{dur:1e3,lines:12,fn:(t,e,i)=>({y1:17,y2:29,style:{transform:`rotate(${30*e+(e<6?180:-180)}deg)`,"animation-delay":t*e/i-t+"ms"}})},"lines-small":{dur:1e3,lines:12,fn:(t,e,i)=>({y1:12,y2:20,style:{transform:`rotate(${30*e+(e<6?180:-180)}deg)`,"animation-delay":t*e/i-t+"ms"}})}}},qULd:function(t,e,i){"use strict";i.d(e,"a",(function(){return r})),i.d(e,"b",(function(){return a})),i.d(e,"c",(function(){return o})),i.d(e,"d",(function(){return c})),i.d(e,"e",(function(){return s}));const n={getEngine(){const t=window;return t.TapticEngine||t.Capacitor&&t.Capacitor.isPluginAvailable("Haptics")&&t.Capacitor.Plugins.Haptics},available(){return!!this.getEngine()},isCordova:()=>!!window.TapticEngine,isCapacitor:()=>!!window.Capacitor,impact(t){const e=this.getEngine();if(!e)return;const i=this.isCapacitor()?t.style.toUpperCase():t.style;e.impact({style:i})},notification(t){const e=this.getEngine();if(!e)return;const i=this.isCapacitor()?t.style.toUpperCase():t.style;e.notification({style:i})},selection(){this.impact({style:"light"})},selectionStart(){const t=this.getEngine();t&&(this.isCapacitor()?t.selectionStart():t.gestureSelectionStart())},selectionChanged(){const t=this.getEngine();t&&(this.isCapacitor()?t.selectionChanged():t.gestureSelectionChanged())},selectionEnd(){const t=this.getEngine();t&&(this.isCapacitor()?t.selectionEnd():t.gestureSelectionEnd())}},o=()=>{n.selection()},r=()=>{n.selectionStart()},a=()=>{n.selectionChanged()},s=()=>{n.selectionEnd()},c=t=>{n.impact(t)}},sLI6:function(t,e,i){"use strict";i.d(e,"a",(function(){return v}));var n=i("mrSG"),o=i("fXoL"),r=i("TEn/"),a=i("HzuS"),s=i("EnSQ"),c=i("4WDQ"),l=i("ofXK");const d=["idCharSeis"],u=["idCharCinco"],p=["idCharCuatro"],b=["idCharTres"],h=["idCharDos"],m=["idCharUno"],g=["tiempoOtp"];function f(t,e){if(1&t){const t=o.Rb();o.Qb(0,"ion-grid",21),o.Qb(1,"ion-row",22),o.Qb(2,"ion-col",23),o.Qb(3,"ion-button",24),o.Qb(4,"ion-label",25),o.Yb("click",(function(){return o.qc(t),o.bc().cancelar()})),o.yc(5,"Cancelar "),o.Pb(),o.Pb(),o.Pb(),o.Qb(6,"ion-col",26),o.Qb(7,"ion-button",27),o.Qb(8,"ion-label",25),o.Yb("click",(function(){return o.qc(t),o.bc().validarOtp()})),o.yc(9,"Aceptar "),o.Pb(),o.Pb(),o.Pb(),o.Pb(),o.Pb()}}let v=(()=>{class t{constructor(t,e,i,n,o,r){this.navParams=t,this.platform=e,this.dataUtilsSrv=i,this.dataSrv=n,this.globalSrv=o,this.modalCtrl=r,this.varTiempo=0,this.peticionTiempo=!1,this.linkRenvio="",this.botonera=!0}ngOnInit(){if(this.estadosTeclado(),console.log(this.navParams.get("value")),void 0!==this.navParams.get("value"))return"recuperarContrasena"===this.navParams.get("value").texto?(this.extraParams=this.navParams.get("value"),void this.ejecutarCuentaRegresiva()):void 0;this.solicitarOtp(this.globalSrv.DATARESPUESTA.informacionPersonal.celular,"")}estadosTeclado(){return Object(n.a)(this,void 0,void 0,(function*(){this.platform.keyboardDidShow.subscribe(t=>{this.botonera=!1}),this.platform.keyboardDidHide.subscribe(()=>{this.botonera=!0}),window.addEventListener("keyboardWillShow",t=>{this.botonera=!1}),window.addEventListener("keyboardWillHide",()=>{this.botonera=!0})}))}ejecutarCuentaRegresiva(){return Object(n.a)(this,void 0,void 0,(function*(){this.cuentaRegresiva(Number(this.extraParams.tiempoOtp))}))}solicitarOtp(t,e){return Object(n.a)(this,void 0,void 0,(function*(){const i=this.dataUtilsSrv.presentarLoading("cargando");console.log("load",i),yield this.dataSrv.postSolicitarOtp(t,e).then(t=>{"1"===t.par_codigo_respuesta?(this.dataUtilsSrv.presentarToast(t.par_mensaje_respuesta,1500,"bottom"),setTimeout(()=>{this.cuentaRegresiva(Number(t.tiempo_otp)),i.then(t=>{t.dismiss()})},100)):(i.then(t=>{t.dismiss()}),this.dataUtilsSrv.presentarToast(t[0].par_mensaje_respuesta,1500,"bottom"))}).catch(t=>{this.dataUtilsSrv.presentarToast("Error en el servicio consultar OTP",1500,"bottom"),i.then(t=>{t.dismiss()})})}))}cuentaRegresiva(t){console.log("idotp2",this.tiempoOtp,"relink"),this.peticionTiempo||(this.linkRenvio="",this.peticionTiempo=!0,this.startTimer(t))}startTimer(t){this.counter={min:0,sec:t};let e=setInterval(()=>{this.counter.sec-1==-1||(this.counter.sec-=1),0===this.counter.min&&0==this.counter.sec&&(this.peticionTiempo=!1,clearInterval(e)),console.log(this.counter.sec),this.varTiempo=this.counter.sec},1e3)}clickReenvio(){return Object(n.a)(this,void 0,void 0,(function*(){if(!0===this.peticionTiempo)this.dataUtilsSrv.presentarToast("Debes esperar a que termine el tiempo para generar otra solicitud.",1500,"bottom");else try{if(void 0!==this.navParams.get("value")&&"recuperarContrasena"===this.navParams.get("value").texto){let t=yield this.dataSrv.generarOtpCorreo({PARTIPDOC:this.extraParams.tipoDocumento,PARDOC:this.extraParams.numDocumento,COD_ENTRADA:this.extraParams.tipoSolOtp});return void("1"===t.codigorespuesta?(this.dataUtilsSrv.presentarToast(t.mensajerespuesta,1500,"bottom"),this.cuentaRegresiva(Number(t.timeotp))):this.dataUtilsSrv.presentarToast(t.mensajerespuesta,1500,"bottom"))}var t=yield this.dataSrv.postSolicitarOtp(this.globalSrv.DATARESPUESTA.informacionPersonal.celular,"");"1"===t.par_codigo_respuesta?(this.dataUtilsSrv.presentarToast(t.par_mensaje_respuesta,1500,"bottom"),this.cuentaRegresiva(Number(t.tiempo_otp))):this.dataUtilsSrv.presentarToast(t.par_mensaje_respuesta,1500,"bottom")}catch(e){this.dataUtilsSrv.presentarToast("Error en el servicio consultar OTP ",1500,"bottom")}}))}validarTextoEntrada(t,e,i){/[0-9]/.test(t.detail.value)?i.setFocus():console.log("prohibido:",e)}cambioFocus(t,e){console.log("ids",e),e.setFocus(),console.log("eventoNum",t)}preventPaste(t){return console.log("estado",t),t.preventDefault(),!1}validarOtp(){return Object(n.a)(this,void 0,void 0,(function*(){let t=null,e=null,i=this.idCharUno.value.toString()+this.idCharDos.value.toString()+this.idCharTres.value.toString()+this.idCharCuatro.value.toString()+this.idCharCinco.value.toString()+this.idCharSeis.value.toString();if(void 0!==this.extraParams){if("correo"===this.extraParams.tipoOtp&&(t=this.extraParams.correo),"celular"===this.extraParams.tipoOtp&&(e=this.extraParams.celular),null!==t){let e=yield this.dataSrv.postValidarOtp(null,i,t);return void("1"===e.codigorespuesta?(console.log(e.mensajerespuesta),this.modalCtrl.dismiss(e.codigorespuesta,e.mensajerespuesta)):(console.log(e.mensajerespuesta),this.dataUtilsSrv.presentarToast(e.mensajerespuesta,1500,"bottom")))}if(null!==e){let t=yield this.dataSrv.postValidarOtp(e,i,null);return console.log(t.mensajerespuesta),void this.modalCtrl.dismiss(t.codigorespuesta,t.mensajerespuesta)}}if(void 0===this.extraParams){let t=yield this.dataSrv.postValidarOtp(this.globalSrv.USUARIO.informacionPersonal.celular,i,null);return console.log(t.mensajerespuesta),void this.modalCtrl.dismiss(t.codigorespuesta,t.mensajerespuesta)}}))}cancelar(){this.modalCtrl.dismiss("2","cancelar")}}return t.\u0275fac=function(e){return new(e||t)(o.Lb(r.Gb),o.Lb(r.Jb),o.Lb(a.a),o.Lb(s.a),o.Lb(c.a),o.Lb(r.Db))},t.\u0275cmp=o.Fb({type:t,selectors:[["app-otp-component"]],viewQuery:function(t,e){var i;1&t&&(o.Cc(d,!0),o.Cc(u,!0),o.Cc(p,!0),o.Cc(b,!0),o.Cc(h,!0),o.Cc(m,!0),o.Cc(g,!0)),2&t&&(o.nc(i=o.Zb())&&(e.idCharSeis=i.first),o.nc(i=o.Zb())&&(e.idCharCinco=i.first),o.nc(i=o.Zb())&&(e.idCharCuatro=i.first),o.nc(i=o.Zb())&&(e.idCharTres=i.first),o.nc(i=o.Zb())&&(e.idCharDos=i.first),o.nc(i=o.Zb())&&(e.idCharUno=i.first),o.nc(i=o.Zb())&&(e.tiempoOtp=i.first))},decls:51,vars:2,consts:[[2,"height","100%"],["overflow-scroll","false",2,"height","92%"],[2,"height","50px"],[2,"width","100%","text-align","center"],["color","minero-texto",2,"font-weight","900","font-size","14pt","color","var(--ion-color-minero-morado-oscuro) !important"],[1,"centrar",2,"width","100%","text-align","center"],["color","minero-texto",2,"font-size","12pt","padding-left","5%","padding-right","5%"],["color","minero-texto"],["color","minero-texto",2,"font-size","smaller"],[2,"font-size","smaller","color","var(--ion-color-minero-morado-oscuro)"],[3,"click"],["size","2",1,"ion-text-center"],[1,"ion-text-center"],["mode","ios","placeholder","_","color","minero-texto","maxlength","1","type","tel",2,"text-align","center","font-size","15pt","background-color","rgba(235, 235, 235, 0.678)","border-radius","10px",3,"input","ionChange","paste"],["idCharUno",""],["idCharDos",""],["idCharTres",""],["idCharCuatro",""],["idCharCinco",""],["idCharSeis",""],["style","padding: 0px; height: 42.6%; height: 8%;",4,"ngIf"],[2,"padding","0px","height","42.6%","height","8%"],[1,"centrar",2,"text-align","center","height","100%"],[2,"height","100%","border","1px solid #d5d5d5","width","100.6%","border-left","0px","border-right","-0.5px","padding","0px"],["expand","full","fill","clear",2,"height","100%","padding-right","5%","padding-left","5%"],["color","minero-texto",2,"text-transform","capitalize",3,"click"],[2,"height","100%","border","1px solid #d5d5d5","width","100.6%","border-right","0px","border-left","0.5px","padding","1px"],["expand","full","fill","clear",2,"height","100%","padding-left","5%","padding-right","5%"]],template:function(t,e){if(1&t){const t=o.Rb();o.Qb(0,"div",0),o.Qb(1,"div",1),o.Mb(2,"br"),o.Mb(3,"div",2),o.Qb(4,"div",3),o.Qb(5,"ion-label",4),o.yc(6,"Verifiquemos tu n\xfamero"),o.Pb(),o.Pb(),o.Qb(7,"div",5),o.Qb(8,"ion-label",6),o.yc(9,"Enviamos un SMS de seis d\xedgitos al n\xfamero de celular registrado"),o.Pb(),o.Pb(),o.Qb(10,"div",3),o.Qb(11,"ion-label",7),o.yc(12,"Digita el c\xf3digo de seis d\xedgitos"),o.Pb(),o.Pb(),o.Qb(13,"div",3),o.Qb(14,"ion-label",8),o.yc(15,"Introduce el c\xf3digo antes de que se acabe el tiempo "),o.Pb(),o.Mb(16,"br"),o.Qb(17,"ion-label",7),o.yc(18),o.Pb(),o.Mb(19,"br"),o.Qb(20,"p",9),o.yc(21,"\xbfNo recibiste el c\xf3digo? "),o.Qb(22,"a",10),o.Yb("click",(function(){return e.clickReenvio()})),o.yc(23,"Enviar nuevamente"),o.Pb(),o.Pb(),o.Pb(),o.Qb(24,"ion-grid"),o.Qb(25,"ion-row"),o.Qb(26,"ion-col",11),o.Qb(27,"ion-row",12),o.Qb(28,"ion-input",13,14),o.Yb("input",(function(i){o.qc(t);const n=o.oc(29);return e.dataUtilsSrv.obtenerValidarTextoIngreso(i,n,"numeros")}))("ionChange",(function(i){o.qc(t);const n=o.oc(33);return e.validarTextoEntrada(i,"2",n)}))("paste",(function(t){return e.preventPaste(t)})),o.Pb(),o.Pb(),o.Pb(),o.Qb(30,"ion-col",11),o.Qb(31,"ion-row",12),o.Qb(32,"ion-input",13,15),o.Yb("input",(function(i){o.qc(t);const n=o.oc(33);return e.dataUtilsSrv.obtenerValidarTextoIngreso(i,n,"numeros")}))("ionChange",(function(i){o.qc(t);const n=o.oc(37);return e.validarTextoEntrada(i,"2",n)}))("paste",(function(t){return e.preventPaste(t)})),o.Pb(),o.Pb(),o.Pb(),o.Qb(34,"ion-col",11),o.Qb(35,"ion-row",12),o.Qb(36,"ion-input",13,16),o.Yb("input",(function(i){o.qc(t);const n=o.oc(37);return e.dataUtilsSrv.obtenerValidarTextoIngreso(i,n,"numeros")}))("ionChange",(function(i){o.qc(t);const n=o.oc(41);return e.validarTextoEntrada(i,"3",n)}))("paste",(function(t){return e.preventPaste(t)})),o.Pb(),o.Pb(),o.Pb(),o.Qb(38,"ion-col",11),o.Qb(39,"ion-row",12),o.Qb(40,"ion-input",13,17),o.Yb("input",(function(i){o.qc(t);const n=o.oc(41);return e.dataUtilsSrv.obtenerValidarTextoIngreso(i,n,"numeros")}))("ionChange",(function(i){o.qc(t);const n=o.oc(45);return e.validarTextoEntrada(i,"4",n)}))("paste",(function(t){return e.preventPaste(t)})),o.Pb(),o.Pb(),o.Pb(),o.Qb(42,"ion-col",11),o.Qb(43,"ion-row",12),o.Qb(44,"ion-input",13,18),o.Yb("input",(function(i){o.qc(t);const n=o.oc(45);return e.dataUtilsSrv.obtenerValidarTextoIngreso(i,n,"numeros")}))("ionChange",(function(i){o.qc(t);const n=o.oc(49);return e.validarTextoEntrada(i,"5",n)}))("paste",(function(t){return e.preventPaste(t)})),o.Pb(),o.Pb(),o.Pb(),o.Qb(46,"ion-col",11),o.Qb(47,"ion-row",12),o.Qb(48,"ion-input",13,19),o.Yb("input",(function(i){o.qc(t);const n=o.oc(49);return e.dataUtilsSrv.obtenerValidarTextoIngreso(i,n,"numeros")}))("ionChange",(function(i){o.qc(t);const n=o.oc(49);return e.validarTextoEntrada(i,"6",n)}))("paste",(function(t){return e.preventPaste(t)})),o.Pb(),o.Pb(),o.Pb(),o.Pb(),o.Pb(),o.Pb(),o.xc(50,f,10,0,"ion-grid",20),o.Pb()}2&t&&(o.zb(18),o.zc(e.varTiempo),o.zb(32),o.hc("ngIf",e.botonera))},directives:[r.L,r.y,r.eb,r.r,r.E,r.Ob,l.t,r.i],styles:[".estilo-titulo-icono-header[_ngcontent-%COMP%]{height:100%;width:100%;display:flex;flex-direction:row;flex-wrap:wrap;justify-content:center;align-content:center;align-items:center}ion-input[_ngcontent-%COMP%], ion-select[_ngcontent-%COMP%]{--placeholder-opacity:1!important;font-size:15pt;--placeholder-color:#8d8ca0}ion-input[_ngcontent-%COMP%]{--padding-end:0px}ion-select[_ngcontent-%COMP%]::part(icon){color:transparent!important;background-image:url(flecha_abajo_lila.15c3e04bcdf5263de4f4.svg);background-position:100%;background-repeat:no-repeat;opacity:1}ion-item[_ngcontent-%COMP%]   ion-item[_ngcontent-%COMP%]{--inner-padding-end:0px;--padding-start:0px}.native-input[_ngcontent-%COMP%]:disabled{opacity:1!important}.datetime-placeholder[_ngcontent-%COMP%]{--placeholder-opacity:1!important;font-size:15pt;--placeholder-color:#8d8ca0}"]}),t})()}}]);